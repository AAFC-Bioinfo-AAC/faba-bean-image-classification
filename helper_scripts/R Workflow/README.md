# README: Faba Bean Seed Measurement Analysis

This repository contains R workflows and PDF summaries for comparing faba bean seed measurements across different methods, including ground truth (GT-MM, GT-DM) and automated pipelines (CP, SVD, min, colorbox). Two sets of analyses are included: one for Length, Width, and Area, and another for Perimeter, Aspect-Ratio, and Circularity. Both workflows generate boxplots, scatterplots, and Altman-Bland plots with regression metrics and confidence intervals to assess measurement accuracy and agreement.

Data Cleaning and Filtering: The workflow begins by handling missing and invalid entries: zeros and blank fields are systematically converted to NA across all measurement columns. Around 20 groups lack ground truth data (GT-MM); additionally, 11 images were identified with minor errors during mask generation, and five images produced erroneous morphological measurements after affine transformation. These entries are treated as missing data rather than actual values. To prepare the data for accurate comparison, the workflow employs two key strategies:

Group Sorting: Measurements within each seed group are sorted independently by column to ensure that data points corresponding to the same physical seed are correctly aligned across all measurement methods. This is necessary because the ground truth data do not include specific seed identifiers; only the group information is known. Sorting within each group from smallest to largest allows the seed within a group to be consistently compared across methods. For example, the ith smallest seed in width using machine measurement (GT-MM) can be compared with the ith smallest seed in width using the SAM2.1 pipeline (CP).

Localized Group Removal (Filtering): It is used to maximize the sample size N. Unlike row-wise deletion, which discards an entire data row if any single measurement is NA, this method is column-by-column. An entire seed group is removed only if data is missing in the two specific columns currently undergoing a comparison (e.g., Length-CP vs. Length-GT-MM). For example, if a group has a missing entry for Length-GT-DM but complete data for Length-CP and Length-GT-MM, the workflow retains the group for the valid CP vs. GT-MM comparison, thereby maximizing the effective N for that specific regression test by preserving the complete information.
The workflows produce three types of plots for each measurement: (1) Boxplots show distribution across methods, highlighting medians, minima, maxima, and outliers; (2) Scatterplots compare measurements via linear regression, reporting RÂ², Bias, RMSE, Slope, and Intercept with both bootstrap and analytical confidence intervals; (3) Altman-Bland plots visualize agreement, showing mean differences and limits of agreement. These figures, combined with the rigorous preprocessing, provide a comprehensive and reproducible framework to evaluate and compare faba bean seed measurement methods.
